"scrollRestoration"in history&&(history.scrollRestoration="manual"),document.querySelectorAll(".project-card__toggle-btn").forEach(e=>{const t=e.getAttribute("aria-controls"),n=document.getElementById(t),o=e.closest(".project-card");n&&(e.addEventListener("click",()=>{const t="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",String(!t)),n.hidden=t,o.classList.toggle("is-open",!t)}),n.addEventListener("keydown",t=>{"Escape"===t.key&&(e.setAttribute("aria-expanded","false"),n.hidden=!0,o.classList.remove("is-open"),e.focus())}))});const headerEl=document.querySelector(".header");window.addEventListener("scroll",()=>{headerEl.classList.toggle("header--scrolled",window.scrollY>10)},{passive:!0});let lastY=window.scrollY,ticking=!1;function onScroll(){const e=window.scrollY,t=e<lastY;e>lastY&&e>120?headerEl.classList.add("header--hidden"):t&&headerEl.classList.remove("header--hidden"),lastY=e,ticking=!1}window.addEventListener("scroll",()=>{ticking||(requestAnimationFrame(onScroll),ticking=!0)},{passive:!0});const setHeaderH=()=>{const e=headerEl.getBoundingClientRect().height;document.documentElement.style.setProperty("--header-h",`${Math.round(e)}px`)};setHeaderH(),window.addEventListener("resize",setHeaderH),document.querySelectorAll('.nav__links a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const n=e.getAttribute("href");if(!n||!n.startsWith("#"))return;const o=document.querySelector(n);if(!o)return;t.preventDefault();const r=function(){const e=getComputedStyle(document.documentElement).getPropertyValue("--header-h").trim(),t=parseInt(e,10);return Number.isFinite(t)?t:0}(),i=o.getBoundingClientRect().top+window.pageYOffset-(r+8);window.scrollTo({top:i,behavior:"smooth"})})}),function(){const e=Array.from(document.querySelectorAll('.nav__links a[href^="#"]')),t=e.map(e=>document.querySelector(e.getAttribute("href"))).filter(Boolean);if(!t.length)return;function n(t){e.forEach(e=>{const n=e.getAttribute("href")===`#${t}`;e.classList.toggle("active",n),n?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")})}function o(){const e=getComputedStyle(document.documentElement).getPropertyValue("--header-h").trim(),t=parseInt(e,10);return Number.isFinite(t)?t:0}let r=!1;function i(){const e=o(),i=window.scrollY+e+16;let s=t[0]?.id;for(const e of t){const t=e.offsetTop,n=t+e.offsetHeight;if(i>=t&&i<n){s=e.id;break}}n(s),r=!1}document.addEventListener("scroll",()=>{r||(requestAnimationFrame(i),r=!0)},{passive:!0}),window.addEventListener("load",()=>{if(location.hash){const e=document.querySelector(location.hash);if(e){const t=o(),r=e.getBoundingClientRect().top+window.pageYOffset-(t+8);return window.scrollTo({top:r}),void n(e.id)}}t[0]&&n(t[0].id)})}();