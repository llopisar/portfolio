const toggles=document.querySelectorAll(".project-card__toggle");toggles.forEach(e=>{e.addEventListener("click",()=>{e.closest(".project-card").classList.toggle("is-open")})});const headerEl=document.querySelector(".header");window.addEventListener("scroll",()=>{headerEl.classList.toggle("header--scrolled",window.scrollY>10)},{passive:!0});let lastY=window.scrollY,ticking=!1;function onScroll(){const e=window.scrollY,t=e<lastY;e>lastY&&e>120?headerEl.classList.add("header--hidden"):t&&headerEl.classList.remove("header--hidden"),lastY=e,ticking=!1}window.addEventListener("scroll",()=>{ticking||(requestAnimationFrame(onScroll),ticking=!0)},{passive:!0});const setHeaderH=()=>{const e=headerEl.getBoundingClientRect().height;document.documentElement.style.setProperty("--header-h",`${Math.round(e)}px`)};setHeaderH(),window.addEventListener("resize",setHeaderH),document.querySelectorAll('.nav__links a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const o=e.getAttribute("href");if(!o||!o.startsWith("#"))return;const n=document.querySelector(o);if(!n)return;t.preventDefault();const r=function(){const e=getComputedStyle(document.documentElement).getPropertyValue("--header-h").trim(),t=parseInt(e,10);return Number.isFinite(t)?t:0}(),i=n.getBoundingClientRect().top+window.pageYOffset-(r+8);window.scrollTo({top:i,behavior:"smooth"})})}),function(){const e=Array.from(document.querySelectorAll('.nav__links a[href^="#"]')),t=e.map(e=>document.querySelector(e.getAttribute("href"))).filter(Boolean);if(!t.length)return;function o(t){e.forEach(e=>{const o=e.getAttribute("href")===`#${t}`;e.classList.toggle("active",o),o?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")})}function n(){const e=getComputedStyle(document.documentElement).getPropertyValue("--header-h").trim(),t=parseInt(e,10);return Number.isFinite(t)?t:0}let r=!1;function i(){const e=n(),i=window.scrollY+e+16;let s=t[0]?.id;for(const e of t){const t=e.offsetTop,o=t+e.offsetHeight;if(i>=t&&i<o){s=e.id;break}}o(s),r=!1}document.addEventListener("scroll",()=>{r||(requestAnimationFrame(i),r=!0)},{passive:!0}),window.addEventListener("load",()=>{if(location.hash){const e=document.querySelector(location.hash);if(e){const t=n(),r=e.getBoundingClientRect().top+window.pageYOffset-(t+8);return window.scrollTo({top:r}),void o(e.id)}}t[0]&&o(t[0].id)})}();